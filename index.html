<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EpiSphere - Next Generation Simulation Platform</title>
    <meta name="description" content="EpiSphere - The next generation simulation platform">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            width: 100%;
            min-height: 100vh;
            overflow-x: hidden;
            background-color: #0C0C0C;
        }

        /* Background container with all background images */
        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0;
            transition: opacity 0.6s ease-in-out;
        }

        .background-image.active {
            opacity: 1;
        }

        .bg-1 {
            background-image: url('public/background1.png');
        }

        .bg-2 {
            background-image: url('public/background2.png');
        }

        .bg-3 {
            background-image: url('public/background3.png');
        }

        .bg-4 {
            background-image: url('public/background4.png');
        }

        .bg-5 {
            background-image: url('public/background5.png');
        }

        /* Scroll snap container */
        .scroll-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
        }

        /* Each section */
        .scroll-section {
            height: 100vh;
            width: 100%;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Product images */
        .section-image {
            max-width: 100%;
            max-height: 100vh;
            width: auto;
            height: auto;
            object-fit: contain;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }

        .scroll-section.visible .section-image {
            opacity: 1;
            transform: translateY(0);
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 100;
        }

        .scroll-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.6);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scroll-dot:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(1.2);
        }

        .scroll-dot.active {
            background: rgba(255, 255, 255, 0.9);
            border-color: rgba(255, 255, 255, 1);
            transform: scale(1.3);
        }
    </style>
</head>

<body>
    <!-- Background images container -->
    <div class="background-container">
        <div class="background-image bg-1 active"></div>
        <div class="background-image bg-2"></div>
        <div class="background-image bg-3"></div>
        <div class="background-image bg-4"></div>
        <div class="background-image bg-5"></div>
    </div>

    <!-- Scroll indicator dots -->
    <nav class="scroll-indicator" aria-label="Scroll navigation">
        <div class="scroll-dot active" data-section="0" aria-label="Go to section 1"></div>
        <div class="scroll-dot" data-section="1" aria-label="Go to section 2"></div>
        <div class="scroll-dot" data-section="2" aria-label="Go to section 3"></div>
        <div class="scroll-dot" data-section="3" aria-label="Go to section 4"></div>
        <div class="scroll-dot" data-section="4" aria-label="Go to section 5"></div>
    </nav>

    <!-- Scroll snap container -->
    <div class="scroll-container" id="scrollContainer">
        <section class="scroll-section visible" data-index="0">
            <img src="public/1.png" alt="EpiSphere Product 1" class="section-image">
        </section>
        <section class="scroll-section" data-index="1">
            <img src="public/2.png" alt="EpiSphere Product 2" class="section-image">
        </section>
        <section class="scroll-section" data-index="2">
            <img src="public/3.png" alt="EpiSphere Product 3" class="section-image">
        </section>
        <section class="scroll-section" data-index="3">
            <img src="public/4.png" alt="EpiSphere Product 4" class="section-image">
        </section>
        <section class="scroll-section" data-index="4">
            <img src="public/5.png" alt="EpiSphere Product 5" class="section-image">
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const scrollContainer = document.getElementById('scrollContainer');
            const sections = document.querySelectorAll('.scroll-section');
            const backgrounds = document.querySelectorAll('.background-image');
            const dots = document.querySelectorAll('.scroll-dot');

            let currentSection = 0;
            let isScrolling = false;

            // Intersection Observer to detect which section is in view
            const observerOptions = {
                root: scrollContainer,
                rootMargin: '0px',
                threshold: 0.5 // Trigger when 50% of section is visible
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const index = parseInt(entry.target.dataset.index);
                        updateActiveSection(index);
                    }
                });
            }, observerOptions);

            // Observe all sections
            sections.forEach(section => observer.observe(section));

            // Update active section: backgrounds, dots, and section visibility
            function updateActiveSection(index) {
                if (currentSection === index) return;
                currentSection = index;

                // Update background images (fade in/out)
                backgrounds.forEach((bg, i) => {
                    if (i === index) {
                        bg.classList.add('active');
                    } else {
                        bg.classList.remove('active');
                    }
                });

                // Update section visibility for animations
                sections.forEach((section, i) => {
                    if (i === index) {
                        section.classList.add('visible');
                    } else {
                        section.classList.remove('visible');
                    }
                });

                // Update navigation dots
                dots.forEach((dot, i) => {
                    if (i === index) {
                        dot.classList.add('active');
                    } else {
                        dot.classList.remove('active');
                    }
                });
            }

            // Click on dots to navigate
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const sectionIndex = parseInt(dot.dataset.section);
                    sections[sectionIndex].scrollIntoView({ behavior: 'smooth' });
                });
            });

            // Initialize first section
            updateActiveSection(0);
        });
    </script>
</body>

</html>